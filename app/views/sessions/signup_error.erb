<%# TODO: Style error messages %>

<div class="signup-error">
  <% @title = "Rxeactions | Sign Up Error" %>

  <h2>The following error may have kept you from signing up:</h2>
  <% if flash[:dup_error] %> <p> <%= flash[:dup_error] %> <a href="/">Please log in here.</a></p> <% end %>
  <% if flash[:pwd_sz_error] %> <p> <%= flash[:pwd_sz_error] %> </p> <% end %>

  <h1>Sign Up</h1>
  <form method="POST" action="/users">

    <div class="form-row">
      <div class="col-12">
        <p>Required fields are followed by <strong class="req">*</strong>.</p>
      </div>
    </div>

    <div class="form-row justify-content-center">
      <div class="form-group col-9">
        <label for="name">Name: <strong class="req">*</strong></label>
        <input id="name" class="form-control" type="text" name="user[name]" <% if flash[:pwd_sz_error] %> value="<%= @user.name %>" <% end %> required>
      </div>
    </div>

    <div class="form-row justify-content-center">
      <div class="form-group col-9">
        <label for="email">Email: <strong class="req">*</strong></label>
        <input id="email" class="form-control" type="email" name="user[email]" <% if flash[:pwd_sz_error] %> value="<%= @user.email %>" <% end %> required>
      </div>
    </div>

    <div class="form-row justify-content-center">
      <div class="form-group col-9">
        <label for="pwd">Password: <strong class="req">*</strong></label>
        <input id="pwd" class="form-control" type="password" name="user[password]" aria-describedby="pwdHelp" required>
        <small id="pwdHelp" class="form-text text-muted">Must be between 6 and 20 characters long.</small>
      </div>
    </div>

    <div class="form-row justify-content-center">
      <div class="form-group col-9">
        <label for="bday">Birthday: <strong class="req">*</strong></label>
        <input id="bday" class="form-control" type="date" name="user[birth_date]" max="<%= (Time.now - 567993600).strftime("%Y-%m-%d") %>" aria-describedby="bdayHelp" <% if flash[:pwd_sz_error] %> value="<%= @user.birth_date %>" <% end %> required>
        <small id="bdayHelp" class="form-text text-muted">Must be 18 years or older to create an account.</small>
      </div>
    </div>

    <div class="form-row justify-content-center">
      <div class="form-group col-9">
        <label for="allergies">Known Allergies: </span></label>
        <textarea id="allergies" class="form-control" name="user[known_allergies]" placeholder="List your known allergies here, even if they're not medications."><% if flash[:pwd_sz_error] %><%= @user.known_allergies %><% end %></textarea>
      </div>
    </div>

    <div class="form-row">
      <div class="col-12">
        <input class="btn" type="submit" value="Sign Up">
      </div>
    </div>

  </form>

</div>